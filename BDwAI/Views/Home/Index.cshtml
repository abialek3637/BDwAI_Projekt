@model IEnumerable<BDwAI.Models.Produkt>
@{
    ViewData["Title"] = "Strona główna";
    var categories = ViewBag.Categories;
}

<div class="text-center mb-5">
    <h1 class="display-5 fw-bold">Przypraw swoją kuchnię z Przyprawex 🌿</h1>
    <p class="lead">Najwyższej jakości przyprawy, które podkreślą smak każdego dania.</p>
</div>

@foreach (var cat in categories)
{
    <section class="mb-5">
        <a class="text-decoration-none text-dark"
        asp-controller="Home"
        asp-action="Category"
        asp-route-id="@cat.Id">
            <h2 class="display-6 fw-bold">@cat.Name <small class="text-muted fs-6">Zobacz więcej</small></h2>
        </a>

        <div class="row g-4">

            @{ 
                int i = 0;
                @foreach (var produkt in Model.Where(p => p.CategoryId == cat.Id))
                {
                    i++;
                    if (i > 4) break;
                    @await Html.PartialAsync("_ProduktCard", produkt)
                }
          }

        </div>
    </section>

}

